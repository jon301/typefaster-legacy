(function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define(["jquery","underscore","js_logger","models/player","controllers/timer"],function(a,c,d,e){"use strict";var f,g;return f=function(c){function e(){return g=e.__super__.constructor.apply(this,arguments)}return b(e,c),e.prototype.initialize=function(a){return e.__super__.initialize.call(this,a),this.logger=d.get("PlayerGhostModel"),this.color=a.color,this.replayLogs=a.replayLogs},e.prototype.play=function(){return e.__super__.play.call(this),this.replayLogsTmp=this.replayLogs.slice(0),this.entryLog=null,this.replay()},e.prototype.stop=function(){return e.__super__.stop.call(this),clearTimeout(this.timeout)},e.prototype.replay=function(){return this.entryLog||(this.entryLog=this.replayLogsTmp.shift()),this.timer.getElapsedTime()>=this.entryLog.t&&(-1===this.entryLog.v?this.deleteEntry():this.typeEntry(this.entryLog.v),this.entryLog=this.replayLogsTmp.shift()),this.entryLog?this.timeout=setTimeout(a.proxy(this.replay,this),1):void 0},e.prototype.getType=function(){return"ghost"},e.prototype.getColor=function(){return this.color},e}(e)})}).call(this);